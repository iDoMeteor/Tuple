<head>
  <title>Tuple</title>
  <meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport">
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet" type="text/css">
</head>


<body>

  <div class="container-fluid">

    <section class="row section-header">
      <div class="col-xs-12">
        <div class="logo"></div>
        <h1 class="title">Tuple</h1>
        <div class="subtitle">Find Patterns for Points</div>
      </div>
    </section>

    <hr>

    <section class="row section-controls">
      <div class="col-xs-6 text-center">
        {{> cheatButton ""}}
        {{> helpButton ""}}
      </div>
      <div class="col-xs-6 text-center">
        {{> controls ""}}
      </div>
    </section>

    <section id="stats-player-game" class="row section-stats">
      <div id="stats-game" class="col-xs-6">
        {{>statsGame ""}}
      </div>
      <div id="stats-player" class="col-xs-6">
        {{>statsPlayer ""}}
      </div>
    </section>

    <section class="row section-board">
      <div class="col-xs-12">
        {{> board ""}}
      </div>
    </section>

    <section id="stats-lifetime" class="row section-stats">
      <div class="col-xs-12">
        {{>statsLifetime ""}}
      </div>
    </section>

  </div>

</body>


<template name="board">

  {{#if Template.subscriptionsReady}}
    {{#each cards}}
      {{> card}}
    {{/each}}
  {{else}}
    {{>loadingDeck}}
  {{/if}}

</template>


<template name="card">

  <div class="col-xs-1 card">
    {{>cardImage num=num paths=paths}}
    {{>cardHolder}}
  </div>

</template>


<template name="cardHolder">

  <button
    class="card-holder {{active}}"
    id="ch-{{num}}">
  </button>

</template>


<template name="cardImage">

    <svg version="1.1"
      baseProfile="full"
      id="svg-{{num}}"
      class="card-svg"
      width="150px" height="150px"
      viewBox="0 0 1024 768"
      xmlns="http://www.w3.org/2000/svg">
      {{#each path in paths}}
        <path d="{{path}}" />
      {{/each}}
    </svg>

</template>


<template name="cheatButton">

  {{#if cheat}}
    {{> cheatButtonHide}}
  {{else}}
    {{> cheatButtonShow}}
  {{/if}}

</template>


<template name="cheatButtonHide">

  <button class="hide-card-name btn btn-warning">
    {{#if selectedCard}}
      {{selectedCard}}
    {{else}}
      Hide Helper
    {{/if}}
  </button>

</template>


<template name="cheatButtonShow">

  <button class="show-card-name btn btn-warning">
    Show Cheats
  </button>

</template>


<template name="controls">

  <div class="game-controls">
    <button
      class="btn btn-primary control-new-game">
      New Game
    </button>

    <button
      class="btn btn-primary control-check-tuple">
      Check Tuple
    </button>
  </div>

</template>


<template name="helpButton">

  <button class="control-show-rules btn btn-info">
    Rules
  </button>

</template>


<template name="statsGame">

  <div class="stats text-center">
    <h2>Game Stats</h2>
    <div class="row">
      <div class="col-xs-4">
        Points
        <br>
        {{points}}
      </div>
      <div class="col-xs-4">
        Timer
        <br>
        {{timer}}
      </div>
      <div class="col-xs-4">
        Deck
        <br>
        {{deck}}
      </div>
    </div>
    <div class="row">
      <div class="col-xs-4">
        {{#if cheat}}
          Avail
          <br>
          {{available}}
        {{/if}}
      </div>
      <div class="col-xs-4">
        Tuples
        <br>
        {{tuples}}
      </div>
      <div class="col-xs-4">
        Fails
        <br>
        {{fails}}
      </div>
    </div>
  </div>

</template>


<template name="statsLifetime">

  <div class="stats text-center">
    <h2>Lifetime Stats</h2>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-4">
          Tuples
        </div>
        <div class="col-xs-4">
          Fails
        </div>
        <div class="col-xs-4">
          Points
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-4">
          {{tuples}}
        </div>
        <div class="col-xs-4">
          {{fails}}
        </div>
        <div class="col-xs-4">
          {{points}}
        </div>
      </div>
    </div>
  </div>

</template>


<template name="statsPlayer">

  <div class="stats text-center">
    <h2>Player{{name}} Stats</h2>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-4">
          Tuples
        </div>
        <div class="col-xs-4">
          Fails
        </div>
        <div class="col-xs-4">
          Points
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-4">
          {{tuples}}
        </div>
        <div class="col-xs-4">
          {{fails}}
        </div>
        <div class="col-xs-4">
          {{points}}
        </div>
      </div>
    </div>
  </div>

</template>


<template name="loadingDeck">
  <div class="col-xs-12 cards-loading vertical-center">
    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
    width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
    <rect x="0" y="0" width="4" height="10" fill="#c0f5e9">
    <animateTransform attributeType="xml"
    attributeName="transform" type="translate"
    values="0 0; 0 20; 0 0"
    begin="0" dur="0.6s" repeatCount="indefinite" />
    </rect>
    <rect x="10" y="0" width="4" height="10" fill="#e2c7f3">
    <animateTransform attributeType="xml"
    attributeName="transform" type="translate"
    values="0 0; 0 20; 0 0"
    begin="0.2s" dur="0.6s" repeatCount="indefinite" />
    </rect>
    <rect x="20" y="0" width="4" height="10" fill="#ff0083">
    <animateTransform attributeType="xml"
    attributeName="transform" type="translate"
    values="0 0; 0 20; 0 0"
    begin="0.4s" dur="0.6s" repeatCount="indefinite" />
    </rect>
    </svg>
  </div>
</template>
